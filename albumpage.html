<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <!-- Required meta tags -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <script src="https://kit.fontawesome.com/ae2c658fe7.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
    integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,400;0,600;0,700;1,500&display=swap"
    rel="stylesheet">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
    integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous" />
  <link rel="stylesheet" href="albumstyles.css" />
  <link rel="stylesheet" href="sidenavbar.css" />

  <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,300;1,400;1,500&display=swap"
    rel="stylesheet" />
  <!-- font style -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

  <title>Spotify Album Page</title>
</head>


<body>
  <main class="d-flex">
    <!-- left sidebar -->
    <div class="container left-sidebar">
      <div class="sidebar-top py-3">
        <div>
          <img src="./artistpage-img/spotify-logo.jpeg" alt="spotify logo">
          <h3 class="d-inline-block">Spotify</h3>
        </div>
      </div>
      <div class="sidebar-second-block">
        <div class="slidebar-selected"><i class="fa-solid fa-house mr-2"></i>
          Home</div>
        <div><i class="fa-solid fa-magnifying-glass mr-2"></i>
          Search</div>
        <div><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
            class="bi bi-bookshelf mr-2" viewBox="0 0 16 16">
            <path
              d="M2.5 0a.5.5 0 0 1 .5.5V2h10V.5a.5.5 0 0 1 1 0v15a.5.5 0 0 1-1 0V15H3v.5a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 .5-.5zM3 14h10v-3H3v3zm0-4h10V7H3v3zm0-4h10V3H3v3z" />
          </svg>
          Your Library
        </div>
      </div>
      <div class="sidebar-third-block">
        <div>
          <i class="fa-solid fa-square-plus mr-2"></i>Create Playlist
        </div>
        <div><i class="fa-regular fa-heart mr-2"></i>Liked Songs
        </div>
      </div>
      <div class="sidebar-bottom">
        <div>Funky Heavy Bluesy</div>
        <div>Your Top Songs 2020</div>
        <div>In Love With You - Erykah Badu</div>
        <div>This Is Rod Stewart</div>
        <div>FRANCHISE With Young Thug</div>
        <div>Your Top Songs 2019</div>
        <div>Pallegio</div>
        <div>This Is Joe Bonamassa</div>
        <div>Jun19</div>
        <div>Jack 30th Party2</div>
        <div>Jack 30th Party</div>
        <div>This Is Opeth</div>
        <div>Metal Ballads</div>
        <div>New Playlist</div>
        <div>Your Top Songs 2018</div>
        <div>Jazz Classics Blue Note Edition</div>
        <div>
          <i class="fa-solid fa-circle-arrow-down"></i>
          Install App
        </div>
      </div>
    </div>

    <!-- main section -->
    <div class="container-fluid artist-page-top d-flex flex-column justify-content-between">
      <div class="d-flex flex-row justify-content-between pt-3 px-4 mb-5 sticky-top">
        <div class="d-flex align-self-center">
          <i class="fa-solid fa-angle-left"></i>
          <i class="fa-solid fa-angle-right pl-4"></i>
        </div>
        <div class="dropdown d-flex">
          <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown"
            aria-expanded="false">
            <img src="./artistpage-img/account.icon.jpeg" alt="account icon" class="img-fluid">
            guest
          </button>

          <!-- dropdown menu commenting out for now -->
          <!-- <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <a class="dropdown-item" href="#">Action</a>
                    <a class="dropdown-item" href="#">Another action</a>
                    <a class="dropdown-item" href="#">Something else here</a>
                </div> -->
        </div>
      </div>
      <div class="d-flex flex-row pb-3">
        <div class="px-3"><img src="./album-img/Bohemain.jpg" alt="main-album-image" style="width: 200px;"></div>
        <div>
          <div>
            <p>ALBUM</p>
          </div>
          <div>
            <h2>Bohemian Rhapsody(The Original Soundtrack)</h2>
          </div>
          <div class="d-flex flex-row">
            <img src="" alt="">
            <b>Queen</b>
            <p>・2018</p>
            <p>・22songs,</p>
            <p>1h19m</p>
          </div>
        </div>
      </div>

      <div class="d-flex align-items-center middle-box">
        <i class="fa-solid fa-play d-flex align-items-center
                        justify-content-center" id="bigPlayButton"></i>
        <i class="fa-regular fa-heart pl-4"></i>
        <h6 class="d-inline-block align-self-center pl-4">. . .</h6>
      </div>
      <div class="row py-3">
        <div class="col-12 col-md-12 col-lg-9 artist-page-bottom-left">
          <h6 class="pb-1"># Title</h6>
        </div>
      </div>
    </div>
  </main>

  <footer class="footer mt-auto py-3 d-flex justify-content-between align-items-center">
    <div class="left-div ml-3 ml-md-0 ml-lg-3 d-flex align-items-center">
      <div class="img-footer mr-3 mr-md-0 mr-lg-3"> <img src="./artistpage-img/queen-album1.jpeg"
          alt="playing track image" style="height: 45px;">
      </div>
      <div class="text-footer mr-5 mr-md-0 mr-lg-5 pt-0 pt-md-3 pt-lg-0">
        <h6 class="footer-text">Another One Bites The Dust - Remastered 2011</h6>
        <p>Artist</p>
      </div>
      <div class="heart-grid-icon"><i class="fa-solid fa-heart mr-3 footer-icon1" id="likeButton"></i>
        <i class="fa-solid fa-table-cells-large footer-icon1"></i>
      </div>
    </div>
    <div class="middle-div text-center">
      <div class="d.flex icons align-items-center justify-content-center">
        <i class="fa-solid fa-shuffle footer-icon1 mr-3"></i>
        <i class="fa-solid fa-backward-step footer-icon2 mr-3"></i>
        <i class="fa-solid fa-circle-pause mr-3 play" id="playButton"></i>
        <i class="fa-solid fa-forward-step footer-icon2 mr-3"></i>
        <i class="fa-solid fa-repeat footer-icon1"></i>

      </div>
      <div class="d-flex align-items-center">
        <div class="number-play mr-2">0:12</div>
        <div class="footer-play-bar">
          <div class="footer-stop"></div>
        </div>
        <div class="number-play ml-2">3:34</div>
      </div>
    </div>
    <div class="right-div mr-5 d-flex align-items-center">
      <div><i class="fa-solid fa-grip-lines mr-3 footer-icon1"></i></div>
      <div><i class="fa-solid fa-desktop mr-3 footer-icon1"></i></div>
      <div><i class="fa-solid fa-volume-high mr-3 footer-icon1"></i></div>
      <div class="volume"></div>
    </div>
  </footer>


  <script>

    function playButton(x)
    {
      x.classList.toggle("fa-circle-stop");
    }


    function likeButton(x)
    {
      x.classList.toggle("text-success");
    }


    const params = new URLSearchParams(window.location.search)
    const id = params.get("id")
    console.log(id)
    const divImg = document.getElementById("divImg")
    const table = document.getElementById("table")
    const albumTitle = document.getElementById('albumTitleDiv')
    const artistName = document.getElementById('artist-name')
    const releaseDate = document.getElementById('release-date')
    const nbTracks = document.getElementById('nb-tracks')
    const albumClickWrapper = document.getElementById('artist-name')
    const anchor = document.getElementById('click')
    fetch("https://striveschool-api.herokuapp.com/api/deezer/album/" + id)
      .then((response) => response.json())
      .then((data) =>
      {
        console.log(data.artist.id)
        let divContainer = document.createElement("div")
        let img = document.createElement("img")

        divContainer.classList.add("divImgWrapper")
        img.classList.add("img-fluid")
        img.src = data.cover
        divImg.appendChild(divContainer)
        divContainer.appendChild(img)
        albumTitle.innerText = data.title
        artistName.innerText = data.artist.name
        releaseDate.innerText = data.release_date
        nbTracks.innerText = data.nb_tracks
        anchor.href = `./artistPage/artistpage.html?id=${data.artist.id}`



        for (i = 0; i < data.tracks.data.length; i++)
        {
          let tr = document.createElement("tr")
          let th = document.createElement("th")
          let td = document.createElement("td")
          let tdDuration = document.createElement("td")

          th.innerText = i + 1
          td.innerText = data.tracks.data[i].title
          tdDuration.innerText = data.tracks.data[i].duration
          tr.classList.add("th-style")
          table.appendChild(tr)
          tr.appendChild(th)
          th.appendChild(td)
          th.appendChild(tdDuration)



        }

      }).catch((error) => console.log(error))


  </script>
  </div>


  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns"
    crossorigin="anonymous"></script>

</body>

</html>